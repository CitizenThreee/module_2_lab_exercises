<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="lights.css">
</head>
<body>
    <div id="lights-container">
        <div class="circle red-light"></div>
        <div class="circle green-light"></div>
        <div class="circle red-light"></div>
        <div class="circle green-light"></div>
        <div class="circle red-light"></div>
        <div class="circle green-light"></div>
        <div class="circle red-light"></div>
    </div>
</body>

<script>
    let lightChild = 0;
    let children = document.getElementById("lights-container").children;
    let childrenCount = document.getElementById("lights-container").childElementCount;

    let redOn = getComputedStyle(document.body).getPropertyValue('--light-colour-1-on');
    let redOff = getComputedStyle(document.body).getPropertyValue('--light-colour-1-off');
    let greenOn = getComputedStyle(document.body).getPropertyValue('--light-colour-2-on');
    let greenOff = getComputedStyle(document.body).getPropertyValue('--light-colour-2-off');

    console.log(children);
    console.log(childrenCount);

    setInterval(NextLight, 1000);

    function NextLight() {
        children[lightChild].style['background-color'] = lightChild%2 == 0 ? redOff : greenOff;
        lightChild = (lightChild + 1) % childrenCount;
        children[lightChild].style['background-color'] = lightChild%2 == 0 ? redOn : greenOn;
    }
</script>
</html>